---
layout: example
categories: example
title: Cycle through markers automatically
tags:
  - markers
  - animation
---
<div id='map'></div>
<script>
function ignorePopups(markers) {
  var clean = [];
  for (var i = 0; i < markers.length; i++) {
    if (markers[i].showTooltip) clean.push(markers[i]);
  }
  return clean;
}
// Create map
mapbox.auto('map', 'examples.map-zr0njcqy', function(map, tiledata) {
  var i = 0;
  function loop() {
    window.setTimeout(function() {
      var markers = ignorePopups(tiledata.markers.markers());
      if (++i > markers.length - 1) i = 0;
      map.center(markers[i].location, true);
      markers[i].showTooltip();
      loop();
    }, 3000);
  }
  loop();
});
</script>
